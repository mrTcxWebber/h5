(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"159c":function(t,e,i){"use strict";i.r(e);var n=i("fc54"),a=i.n(n);for(var c in n)"default"!==c&&function(t){i.d(e,t,(function(){return n[t]}))}(c);e["default"]=a.a},"175a":function(t,e,i){var n=i("c34b");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("7f4b2bb0",n,!0,{sourceMap:!1,shadowMode:!1})},"33a1":function(t,e,i){"use strict";i.r(e);var n=i("4697"),a=i("159c");for(var c in a)"default"!==c&&function(t){i.d(e,t,(function(){return a[t]}))}(c);i("b768");var s,r=i("f0c5"),o=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"3599882f",null,!1,n["a"],s);e["default"]=o.exports},4697:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return c})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content calc-box"},[i("v-uni-view",{staticClass:"list-item item-select",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectType.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"title"},[t._v("服務類型")]),i("v-uni-view",[t._v(t._s(t.typeName))])],1),i("v-uni-view",{staticClass:"list-item item-select",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectAddress.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"title"},[t._v("地區")]),i("v-uni-view",[t._v(t._s(t.curAreaName))])],1),i("v-uni-view",{staticClass:"t-tips"},[t._v("請提供您包裹的其他信息,填寫包裹尺寸,當體積重量大於實際重量時,會按照體積重量計算運費")]),i("div",{staticClass:"res-box"},[i("v-uni-view",{staticClass:"list-item",staticStyle:{"margin-bottom":"0"}},[i("v-uni-view",{staticClass:"title"},[t._v("件數")]),i("v-uni-view",{staticClass:"list-item-content",staticStyle:{"font-size":"28rpx"}},[i("v-uni-view",[t._v("實際重(kg)")]),i("v-uni-view",[t._v("長(cm)")]),i("v-uni-view",[t._v("寬(cm)")]),i("v-uni-view",[t._v("高(cm)")])],1)],1),t._l(t.resultList,(function(e,n){return i("v-uni-view",{key:n,staticClass:"list-item"},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(n+1)+".")]),i("v-uni-view",{staticClass:"list-item-content"},[i("v-uni-input",{staticClass:"list-input",attrs:{type:"number",placeholder:"實重"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.debounce(n)}},model:{value:e.boxWeight,callback:function(i){t.$set(e,"boxWeight",i)},expression:"item.boxWeight"}}),i("v-uni-input",{staticClass:"list-input",attrs:{type:"number",placeholder:"長"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.debounce(n)}},model:{value:e.boxLength,callback:function(i){t.$set(e,"boxLength",i)},expression:"item.boxLength"}}),i("v-uni-input",{staticClass:"list-input",attrs:{type:"number",placeholder:"寬"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.debounce(n)}},model:{value:e.boxWidth,callback:function(i){t.$set(e,"boxWidth",i)},expression:"item.boxWidth"}}),i("v-uni-input",{staticClass:"list-input",attrs:{type:"number",placeholder:"高"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.debounce(n)}},model:{value:e.boxHeight,callback:function(i){t.$set(e,"boxHeight",i)},expression:"item.boxHeight"}})],1),i("v-uni-view",{staticClass:"icon",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onCloseResultItem(n)}}},[t._v("x")])],1)}))],2),i("v-uni-view",{staticStyle:{width:"100%",margin:"30rpx auto",display:"flex","justify-content":"space-around"}},[i("v-uni-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clearResult.apply(void 0,arguments)}}},[t._v("清空所有")]),i("v-uni-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toAddItem.apply(void 0,arguments)}}},[t._v("添加下一個")])],1),i("v-uni-view",[i("v-uni-view",{staticClass:"list-item"},[i("v-uni-view",{staticClass:"title"},[t._v("運費")]),i("v-uni-view",{staticStyle:{color:"#f37b1d"}},[t._v("港幣$"+t._s(t.allFreightPrice))])],1),i("v-uni-view",{staticClass:"list-item"},[i("v-uni-view",{staticClass:"title"},[t._v("附加費")]),i("v-uni-view",{staticStyle:{color:"#f37b1d"}},[t._v("港幣$"+t._s(t.allOverAttachPrice))])],1),i("v-uni-view",{staticClass:"list-item"},[i("v-uni-view",{staticClass:"title"},[t._v("總金額")]),i("v-uni-view",{staticStyle:{color:"#f37b1d"}},[t._v("港幣$"+t._s(t.allTotalPrice))])],1)],1),i("v-uni-view",{staticClass:"tips-box"},[i("v-uni-view",{staticStyle:{color:"#f00"}},[t._v("備注：")]),i("v-uni-view",{staticClass:"tips-item"},[t._v("1. 零食.小食除运費外，需另加3元/kg(最低消费20元)")]),i("v-uni-view",{staticClass:"tips-item"},[t._v("2. 禁運物品：玻璃陶瓷製品，侵權物品，香煙，毒品，植物，水果，大米、肉製品，化學類，粉末，液體，藥類  易燃（含酒精液體、高壓易燃氣體），刀具，槍支配件,等等")]),i("v-uni-view",{staticClass:"tips-item"},[t._v("3. 如寄電視機或手機，需要另外加收報關費。（電視機：49寸內:30元，達到49寸:50元，達到65寸或更大尺寸:100元，），（手機：國產牌子5元/1台，國際牌子10元/1台）。")]),i("v-uni-view",{staticClass:"tips-item"},[t._v("4. 如達到85K,需門店自取,沒有派送服務, 如達到240CM而又超過35KG，需門店自取,沒有派送服務")])],1)],1)},c=[]},b768:function(t,e,i){"use strict";var n=i("175a"),a=i.n(n);a.a},c34b:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'.content[data-v-3599882f]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.calc-box[data-v-3599882f]{padding:%?26?%;background-color:#f7f7f7}.list-item[data-v-3599882f]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?26?% %?38?% %?26?% %?26?%;font-size:%?30?%;background-color:#fff;margin-bottom:%?16?%;position:relative}.res-box .list-item .title[data-v-3599882f]{width:%?80?%}.item-select[data-v-3599882f]::after{content:"";position:absolute;right:%?15?%;top:%?36?%;display:block;width:%?16?%;height:%?16?%;border:2px solid #999;border-style:solid solid none none;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.t-tips[data-v-3599882f]{color:#ef8026;padding:%?20?%;font-size:13px;line-height:20px}.list-item-content[data-v-3599882f]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.list-item-content .list-input[data-v-3599882f]{font-size:%?26?%;border:1px solid #3f90eb;width:%?92?%;height:%?52?%;text-align:center;box-sizing:border-box}.btn-search[data-v-3599882f]{margin:%?30?% auto}.tips-box[data-v-3599882f]{padding:%?22?%}.tips-item[data-v-3599882f]{font-size:%?28?%;line-height:%?40?%;color:#e54d42;margin-bottom:%?18?%}.res-box .icon[data-v-3599882f]{\n\t\n\t/* width: 36rpx; */height:%?64?%;padding-left:%?20?%;font-size:%?40?%}',""]),t.exports=e},e07b:function(t,e,i){"use strict";function n(t,e){var i=null;return function(){var n=arguments,a=this;i&&clearTimeout(i),i=setTimeout((function(){t.apply(a,n),clearTimeout(i),i=null}),e||200)}}Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=n},fc54:function(t,e,i){"use strict";i("7db0"),i("c740"),i("4160"),i("d81d"),i("13d5"),i("a434"),i("a9e3"),i("e25e"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("e07b"),a={data:function(){return{typeName:"配送",typeId:1,typeList:[{typeName:"配送",typeId:1},{typeName:"自取",typeId:2}],curAreaName:"九龍區",areaId:101,areaList:[{areaId:101,area:"九龍區"},{areaId:102,area:"新界區"},{areaId:103,area:"港島區"}],freeData:[{typeId:1,typeName:"配送",info:[{areaId:101,area:"九龍區",price:90,fristWeight:20,continuePrice:3.3,attachPrice:5},{areaId:102,area:"新界區",price:105,fristWeight:20,continuePrice:3.3,attachPrice:5},{areaId:103,area:"港島區",price:105,fristWeight:20,continuePrice:3.3,attachPrice:5}]},{typeId:2,typeName:"自取",info:[{areaId:201,area:"深水埗",price:30,priceLevel:[{price:30,startWeight:0,endWeight:10,desc:"10KG内",fristWeight:0,continuePrice:0,attachPrice:5},{price:50,startWeight:10,endWeight:20,desc:"10.5-20KG",fristWeight:10,continuePrice:0,attachPrice:5},{price:50,startWeight:20,endWeight:1e9,desc:"超過20KG",fristWeight:20,continuePrice:1.8,attachPrice:5}],fristWeight:0,maxFristWeight:20,continuePrice:0,attachPrice:5,expiredPrice:1,expiredDesc:"逾期:1KG/1元/1天",shopDesc:"深水埗南昌街118號地鋪電話:3480 8193 / 2394 3933星期一至六09:30-18:30  星期日及公眾假期休息香港免費存放3日(包含到貨日),逾期:1KG/1元/1天"},{areaId:202,area:"土瓜灣",price:30,priceLevel:[{price:30,startWeight:0,endWeight:10,fristWeight:0,desc:"10KG内",continuePrice:0,attachPrice:5},{price:50,startWeight:10,endWeight:20,fristWeight:10,desc:"10.5-20KG",continuePrice:0,attachPrice:5},{price:50,startWeight:20,endWeight:1e9,fristWeight:20,desc:"超過20KG",continuePrice:1.8,attachPrice:5}],fristWeight:0,maxFristWeight:20,continuePrice:3.3,attachPrice:5,expiredPrice:1,expiredDesc:"逾期:1KG/1元/1天",shopDesc:"九龍城道10-16號聯業大廈A鋪電話:3590 4122 / 3590 4133星期一至六09:30-18:30  星期日及公眾假期休息香港免費存放3日(包含到貨日),逾期:1KG/1元/1天"}]}],overWeightList:[{weight:0,maxWeight:35,attachPrice:0,desc:""},{weight:35,maxWeight:45,attachPrice:30,desc:""},{weight:45,maxWeight:60,attachPrice:50,desc:""},{weight:60,maxWeight:100,attachPrice:100,desc:""},{weight:100,maxWeight:200,attachPrice:150,desc:"（如達到85KG,需門店自取,沒有派送服務）"},{weight:200,maxWeight:300,attachPrice:200,desc:"（如達到85KG,需門店自取,沒有派送服務）"},{weight:300,maxWeight:9999999,attachPrice:250,desc:"（如達到85KG,需門店自取,沒有派送服務）"}],overLengthList:[{length:0,maxLength:160,attachPrice:0,desc:""},{length:160,maxLength:180,attachPrice:30,desc:""},{length:180,maxLength:200,attachPrice:50,desc:""},{length:200,maxLength:300,attachPrice:100,desc:""},{length:300,maxLength:400,attachPrice:150,desc:"（如達到240CM而又超過35KG,需到門店自取,沒有派送服務）"},{length:400,maxLength:99999999,attachPrice:200,desc:"（如達到240CM而又超過35KG,需到門店自取,沒有派送服務）"}],boxWeight:"",boxLength:"",boxWidth:"",boxHeight:"",boxSize:"1",freightPrice:0,attachPrice:0,overWeightAttachPrice:0,overLenAttachPrice:0,totalPrice:0,priceBoxVisiable:!1,resultList:[{boxWeight:"",boxLength:"",boxWidth:"",boxHeight:"",freightPrice:0,overAttachPrice:0,totalPrice:0}]}},onLoad:function(){},computed:{btnTxt:function(){return this.resultList.length>1?"添加下一個":"計算費用"},allFreightPrice:function(){return this.calcItemTotalPrice("freightPrice")},allOverAttachPrice:function(){return this.calcItemTotalPrice("overAttachPrice")},allTotalPrice:function(){return this.calcItemTotalPrice("totalPrice")}},watch:{typeName:function(t){},areaList:function(t){},areaId:function(t){var e=this;console.log("派送地區改變了"),this.resultList.forEach((function(t,i){e.debounce(i)}))}},methods:{getData:function(){},calcItemTotalPrice:function(t){return this.resultList.reduce((function(e,i){return e+i[t]}),0)},clearResult:function(){this.resultList=[{boxWeight:"",boxLength:"",boxWidth:"",boxHeight:"",freightPrice:0,overAttachPrice:0,totalPrice:0}]},selectType:function(){var t=this,e=this.typeList.map((function(t){return t.typeName}));uni.showActionSheet({itemList:e,success:function(e){var i=e.tapIndex;t.typeName!=t.typeList[i].typeName&&(t.typeId=t.typeList[i].typeId,t.typeName=t.typeList[i].typeName,t.areaList=t.freeData[i].info.map((function(t){return{areaId:t.areaId,area:t.area}})),t.curAreaName=t.areaList[0].area,t.areaId=t.freeData[i].info[0].areaId)}})},selectAddress:function(){var t=this,e=this.areaList.map((function(t){return t.area}));uni.showActionSheet({itemList:e,success:function(e){var i=e.tapIndex;t.curAreaName=t.areaList[i].area,t.areaId=t.areaList[i].areaId}})},onInputWeight:function(t){this.boxWeight=t.detail.value},onInputLength:function(t){this.boxLength=t.detail.value},onInputWidth:function(t){this.boxWidth=t.detail.value},onInputHeight:function(t){this.boxHeight=t.detail.value},onInputSize:function(t){this.boxSize=t.detail.value},onCloseResultItem:function(t){this.resultList.splice(t,1),this.resultList.length||this.clearResult()},findOverWeightAttachPrice:function(t){var e=this.overWeightList.findIndex((function(e){return e.weight<=t&&e.maxWeight>t}));return-1===e?this.overWeightList[this.overWeightList.length-1].attachPrice:this.overWeightList[e].attachPrice},findOverLenAttachPrice:function(t){var e=this.overLengthList.findIndex((function(e){return e.length<=t&&e.maxLength>t}));return-1===e?this.overLengthList[this.overLengthList.length-1].attachPrice:this.overLengthList[e].attachPrice},calcFinalWeight:function(t){return t>parseInt(t)&&t<parseInt(t)+.5?(console.log("少于0.5",t),t+(parseInt(t)+.5)-t):parseInt(t)+.5<t&&parseInt(t)+.999999>=t?(console.log("大于0.5",t),parseInt(t)+1):(console.log("等于0.5/0",t),t)},debounce:function(t){(0,n.debounce)(this.toSearch)(t)},clearItemPrice:function(t){this.$set(this.resultList[t],"freightPrice",0),this.$set(this.resultList[t],"overAttachPrice",0),this.$set(this.resultList[t],"totalPrice",0)},toSearch:function(t){var e=this,i=this.resultList[t];if(console.log("動了o",t),!i.boxWeight||isNaN(i.boxWeight))return uni.showToast({title:"請輸入箱子實際重量",icon:"none"}),void this.clearItemPrice(t);if(!i.boxLength||isNaN(i.boxLength))return uni.showToast({title:"請輸入箱子長度",icon:"none"}),void this.clearItemPrice(t);if(!i.boxWidth||isNaN(i.boxWidth))return uni.showToast({title:"請輸入箱子寬度",icon:"none"}),void this.clearItemPrice(t);if(!i.boxHeight||isNaN(i.boxHeight))return uni.showToast({title:"請輸入箱子高度",icon:"none"}),void this.clearItemPrice(t);var n=this.freeData.find((function(t){return t.typeId==e.typeId})),a=n.info.find((function(t){return t.areaId==e.areaId})),c=this.calcFinalWeight(Number(i.boxWeight)),s=this.calcFinalWeight(i.boxLength*i.boxWidth*i.boxHeight/6e3*.9),r=c>s?c:s;console.log("最终重量",r,"體積重",s,"輸入重",c);var o=null;a.priceLevel&&(o=a.priceLevel.find((function(t){return t.startWeight<=r&&t.endWeight>r})),console.log("分级的首重",o));var l=0;l=o?a.maxFristWeight-r<0?Math.abs(a.maxFristWeight-r):0:a.fristWeight-r<0?Math.abs(a.fristWeight-r):0;var h=0;c>0&&(h=this.findOverWeightAttachPrice(c),console.log("超重附加费",h)),console.log("超重多少KG/在首重分级内",l);var u=0;i.boxLength>=this.overLengthList[0].maxLength&&(u+=this.findOverLenAttachPrice(i.boxLength),console.log("超长附加费",this.findOverLenAttachPrice(i.boxLength))),i.boxWidth>=this.overLengthList[0].maxLength&&(u+=this.findOverLenAttachPrice(i.boxWidth),console.log("超宽附加费",this.findOverLenAttachPrice(i.boxWidth))),i.boxHeight>=this.overLengthList[0].maxLength&&(u+=this.findOverLenAttachPrice(i.boxHeight),console.log("超高附加费",this.findOverLenAttachPrice(i.boxHeight)));var d=o?o.price:a.price,v=o?o.continuePrice:a.continuePrice,f=o?Math.ceil(l*o.continuePrice):Math.ceil(l*a.continuePrice),g=this.boxSize*(o?o.attachPrice:a.attachPrice),p=d+f+g+h+u;console.log("首重价格",d,"超重KG",l,"续重/1KG",v,"续重价格",l*v,"超重附加费",h,"超长附加费",u,"四舍五入续重价格",f,"附加费",g,"总价",p),this.$set(this.resultList[t],"freightPrice",d+f),this.$set(this.resultList[t],"overAttachPrice",h+u+g),this.$set(this.resultList[t],"totalPrice",p)},toAddItem:function(){this.resultList.push({boxWeight:"",boxLength:"",boxWidth:"",boxHeight:"",freightPrice:0,overAttachPrice:0,totalPrice:0})}}};e.default=a}}]);